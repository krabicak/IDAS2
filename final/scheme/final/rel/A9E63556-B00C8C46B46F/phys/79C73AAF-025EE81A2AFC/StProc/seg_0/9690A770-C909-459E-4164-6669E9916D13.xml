<?xml version = '1.0' encoding = 'UTF-8'?>
<StoredProcedureOraclev10g class="oracle.dbtools.crest.model.design.storage.oracle.v10g.StoredProcedureOraclev10g" name="ADD_FIELD_OF_STUDY" directorySegmentName="seg_0" id="9690A770-C909-459E-4164-6669E9916D13">
<sourceDDLFile>final.ddl</sourceDDLFile>
<createdBy>hotov</createdBy>
<createdTime>2018-12-19 11:04:40 UTC</createdTime>
<ownerDesignName>final</ownerDesignName>
<owner>DC142EB9-5E20-A733-D131-3F30E4F4C44B</owner>
<source>CREATE OR REPLACE EDITIONABLE PROCEDURE C##ST52512.ADD_FIELD_OF_STUDY (&lt;br&gt;  admin_mail PRACOVNICI.EMAIL%TYPE,&lt;br&gt;  admin_heslo PRACOVNICI.HESLO%TYPE,&lt;br&gt;  p_pracoviste_id STUDIJNI_OBOR.pracoviste_id%TYPE,&lt;br&gt;  p_nazev STUDIJNI_OBOR.nazev%TYPE,&lt;br&gt;  p_zkratka STUDIJNI_OBOR.zkratka%TYPE,&lt;br&gt;  p_form_pre FORMA_VYUKY.id%TYPE,&lt;br&gt;  p_form_kom FORMA_VYUKY.id%TYPE&lt;br&gt;) AS&lt;br&gt;  operation_not_permitted EXCEPTION;&lt;br&gt;  new_id PREDMET.id%TYPE;&lt;br&gt;  BEGIN&lt;br&gt;    IF IS_USER_ADMIN(admin_mail,admin_heslo)= TRUE THEN&lt;br&gt;      new_id := STUDIJNI_OBOR_ID_SEQ.nextval;&lt;br&gt;      INSERT INTO STUDIJNI_OBOR&lt;br&gt;        VALUES (&lt;br&gt;                   new_id,&lt;br&gt;                   p_pracoviste_id,&lt;br&gt;                   p_nazev,&lt;br&gt;                   p_zkratka&lt;br&gt;                   );&lt;br&gt;       IF p_form_pre IS NOT NULL THEN&lt;br&gt;        INSERT INTO FORMY VALUES (new_id,1);&lt;br&gt;        END IF;&lt;br&gt;      IF p_form_kom IS NOT NULL THEN&lt;br&gt;        INSERT INTO FORMY VALUES (new_id,2);&lt;br&gt;      END IF;&lt;br&gt;      COMMIT;&lt;br&gt;      ELSE&lt;br&gt;        RAISE operation_not_permitted;&lt;br&gt;      END IF ;&lt;br&gt;  END ADD_FIELD_OF_STUDY;</source>
</StoredProcedureOraclev10g>