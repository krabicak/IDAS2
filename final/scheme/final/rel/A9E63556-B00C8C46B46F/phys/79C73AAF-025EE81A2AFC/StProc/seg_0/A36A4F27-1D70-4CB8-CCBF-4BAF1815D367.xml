<?xml version = '1.0' encoding = 'UTF-8'?>
<StoredProcedureOraclev10g class="oracle.dbtools.crest.model.design.storage.oracle.v10g.StoredProcedureOraclev10g" name="UPDATE_TEACHER" directorySegmentName="seg_0" id="A36A4F27-1D70-4CB8-CCBF-4BAF1815D367">
<sourceDDLFile>final.ddl</sourceDDLFile>
<createdBy>hotov</createdBy>
<createdTime>2018-12-19 11:04:40 UTC</createdTime>
<ownerDesignName>final</ownerDesignName>
<owner>DC142EB9-5E20-A733-D131-3F30E4F4C44B</owner>
<source>CREATE OR REPLACE EDITIONABLE PROCEDURE C##ST52512.UPDATE_TEACHER (&lt;br&gt;  admin_mail PRACOVNICI.EMAIL%TYPE,&lt;br&gt;  admin_heslo PRACOVNICI.HESLO%TYPE,&lt;br&gt;  p_jmeno PRACOVNICI.JMENO%TYPE,&lt;br&gt;  p_prijmeni PRACOVNICI.PRIJMENI%TYPE,&lt;br&gt;  p_titul_pred PRACOVNICI.TITUL_PRED%TYPE,&lt;br&gt;  p_titul_za PRACOVNICI.TITUL_ZA%TYPE,&lt;br&gt;  p_telefon PRACOVNICI.TELEFON%TYPE,&lt;br&gt;  p_mobil PRACOVNICI.MOBIL%TYPE,&lt;br&gt;  p_email PRACOVNICI.EMAIL%TYPE,&lt;br&gt;  p_pracoviste_id PRACOVNICI.PRACOVISTE_ID%TYPE,&lt;br&gt;  p_heslo PRACOVNICI.HESLO%TYPE,&lt;br&gt;  p_role_zkratka PRACOVNICI.ROLE_ZKRATKA%TYPE,&lt;br&gt;  p_uvazek_typ PRACOVNICI.UVAZEK_TYP%TYPE,&lt;br&gt;  p_id PRACOVNICI.ID%TYPE&lt;br&gt;) AS&lt;br&gt;  operation_not_permitted EXCEPTION;&lt;br&gt;  BEGIN&lt;br&gt;    IF IS_USER_ADMIN(admin_mail,admin_heslo)=TRUE THEN&lt;br&gt;        IF p_heslo IS NULL &lt;br&gt;            THEN &lt;br&gt;            UPDATE PRACOVNICI     &lt;br&gt;                SET&lt;br&gt;                    jmeno = p_jmeno,&lt;br&gt;                    prijmeni = p_prijmeni,&lt;br&gt;                    titul_pred = p_titul_pred,&lt;br&gt;                    titul_za = p_titul_za,&lt;br&gt;                    telefon = p_telefon,&lt;br&gt;                    mobil = p_mobil,&lt;br&gt;                    email = p_email,&lt;br&gt;                    pracoviste_id = p_pracoviste_id,&lt;br&gt;                    role_zkratka = p_role_zkratka,&lt;br&gt;                    uvazek_typ = p_uvazek_typ&lt;br&gt;                WHERE ID=p_id;&lt;br&gt;            ELSE&lt;br&gt;            UPDATE PRACOVNICI &lt;br&gt;              SET&lt;br&gt;                jmeno = p_jmeno,&lt;br&gt;                prijmeni = p_prijmeni,&lt;br&gt;                titul_pred = p_titul_pred,&lt;br&gt;                titul_za = p_titul_za,&lt;br&gt;                telefon = p_telefon,&lt;br&gt;                mobil = p_mobil,&lt;br&gt;                email = p_email,&lt;br&gt;                pracoviste_id = p_pracoviste_id,&lt;br&gt;                heslo = p_heslo,&lt;br&gt;                role_zkratka = p_role_zkratka,&lt;br&gt;                uvazek_typ = p_uvazek_typ&lt;br&gt;            WHERE ID=p_id;&lt;br&gt;            END IF;&lt;br&gt;        COMMIT;              &lt;br&gt;    ELSE&lt;br&gt;        RAISE operation_not_permitted;&lt;br&gt;    END IF ;&lt;br&gt;  END UPDATE_TEACHER;</source>
</StoredProcedureOraclev10g>