<?xml version = '1.0' encoding = 'UTF-8'?>
<StoredProcedureOraclev10g class="oracle.dbtools.crest.model.design.storage.oracle.v10g.StoredProcedureOraclev10g" name="UPDATE_SUBJECT" directorySegmentName="seg_0" id="8BF4FC68-3998-DC02-8429-6985C56C22F0">
<sourceDDLFile>final.ddl</sourceDDLFile>
<createdBy>hotov</createdBy>
<createdTime>2018-12-19 11:04:40 UTC</createdTime>
<ownerDesignName>final</ownerDesignName>
<owner>DC142EB9-5E20-A733-D131-3F30E4F4C44B</owner>
<source>CREATE OR REPLACE EDITIONABLE PROCEDURE C##ST52512.UPDATE_SUBJECT (&lt;br&gt;  admin_mail PRACOVNICI.EMAIL%TYPE,&lt;br&gt;  admin_heslo PRACOVNICI.HESLO%TYPE,&lt;br&gt;  p_nazev PREDMET.nazev%TYPE,&lt;br&gt;  p_zkratka PREDMET.ZKRATKA%TYPE,&lt;br&gt;  p_rozsah_hodin PREDMET.rozsah_hodin%TYPE,&lt;br&gt;  p_zakonceni_predmetu_zkratka PREDMET.zakonceni_predmetu_zkratka%TYPE,&lt;br&gt;  p_kategorie_predmetu_zkratka PREDMET.kategorie_predmetu_zkratka%TYPE,&lt;br&gt;  p_doporuceny_rocnik_cislo_rocniku PREDMET.doporuceny_rocnik_cislo_rocniku%TYPE,&lt;br&gt;  p_pracovnici PREDMET.pracovnici_id%TYPE,&lt;br&gt;  p_sem_zimni SEMESTR.id%TYPE,&lt;br&gt;  p_sem_letni SEMESTR.id%TYPE,&lt;br&gt;  p_id PREDMET.id%TYPE&lt;br&gt;) AS&lt;br&gt;    operation_not_permitted EXCEPTION;&lt;br&gt;  BEGIN&lt;br&gt;    IF IS_USER_ADMIN(admin_mail,admin_heslo)=TRUE THEN&lt;br&gt;      UPDATE PREDMET&lt;br&gt;      SET &lt;br&gt;      NAZEV = p_nazev, &lt;br&gt;      ZKRATKA = p_zkratka,&lt;br&gt;      ROZSAH_HODIN = p_rozsah_hodin,&lt;br&gt;      ZAKONCENI_PREDMETU_ZKRATKA = p_zakonceni_predmetu_zkratka,&lt;br&gt;      KATEGORIE_PREDMETU_ZKRATKA = p_kategorie_predmetu_zkratka, &lt;br&gt;      DOPORUCENY_ROCNIK_CISLO_ROCNIKU = p_doporuceny_rocnik_cislo_rocniku,&lt;br&gt;      PRACOVNICI_ID = p_pracovnici&lt;br&gt;      WHERE PREDMET.ID = p_id;&lt;br&gt;      DELETE FROM SEM WHERE PREDMET_ID=p_id;&lt;br&gt;      IF p_sem_zimni IS NOT NULL THEN&lt;br&gt;        INSERT INTO SEM&lt;br&gt;        VALUES (1,p_id);&lt;br&gt;      END IF;&lt;br&gt;      IF p_sem_letni IS NOT NULL THEN&lt;br&gt;        INSERT INTO SEM&lt;br&gt;        VALUES (2,p_id);&lt;br&gt;      END IF;&lt;br&gt;      COMMIT;&lt;br&gt;    ELSE&lt;br&gt;      RAISE operation_not_permitted;&lt;br&gt;    END IF ;&lt;br&gt;  END UPDATE_SUBJECT&lt;br&gt;;</source>
</StoredProcedureOraclev10g>